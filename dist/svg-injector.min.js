/**
 * SVGInjector v1.1.0 - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(t,e){"use strict";function r(t){t=t.split(" ");for(var e={},r=t.length,n=[];r--;)e.hasOwnProperty(t[r])||(e[t[r]]=1,n.unshift(t[r]));return n.join(" ")}var n="file:"===t.location.protocol,i=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),o={},a=0,s=[],l={},u=function(t){return t.cloneNode(!0)},c=function(t,e){s[t]=s[t]||[],s[t].push(e)},f=function(t){for(var e=0,r=s[t].length;r>e;e++)!function(e){setTimeout(function(){s[t][e](u(o[t]))},0)}(e)},p=function(e,r){if(void 0!==o[e])o[e]instanceof SVGSVGElement?r(o[e].cloneNode(!0)):c(e,r);else{if(!t.XMLHttpRequest)return r("Browser does not support XMLHttpRequest"),!1;o[e]={},c(e,r);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(404===i.status||null===i.responseXML)return r("Unable to load SVG file: "+e),n&&r("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),r(),!1;if(!(200===i.status||n&&0===i.status))return r("There was a problem injecting the SVG: "+i.status+" "+i.statusText),!1;if(i.responseXML instanceof Document)o[e]=i.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var a=new DOMParser;t=a.parseFromString(i.responseText,"text/xml")}catch(s){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return r("Unable to parse SVG file: "+e),!1;o[e]=t.documentElement}f(e)}},i.open("GET",e),i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send()}},d=function(e,n,o,s){var u=e.getAttribute("data-src")||e.getAttribute("src");if(!/svg$/i.test(u))return void s("Attempted to inject a file with a non-svg extension: "+u);if(!i){var c=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(c?(e.setAttribute("src",c),s(null)):o?(e.setAttribute("src",o+"/"+u.split("/").pop().replace(".svg",".png")),s(null)):s("This browser does not support SVG and no PNG fallback was defined."))}e.setAttribute("src",""),p(u,function(i){if(void 0===i||"string"==typeof i)return s(i),!1;var o=e.getAttribute("id");o&&i.setAttribute("id",o);var c=e.getAttribute("title");c&&i.setAttribute("title",c);var f=[].concat(i.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");i.setAttribute("class",r(f));var p=e.getAttribute("style");p&&i.setAttribute("style",p);var d=[].filter.call(e.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});Array.prototype.forEach.call(d,function(t){t.name&&t.value&&i.setAttribute(t.name,t.value)});for(var h,v=i.querySelectorAll("defs clipPath[id]"),g=0,y=v.length;y>g;g++){h=v[g].id+"-"+a;for(var b=i.querySelectorAll('[clip-path*="'+v[g].id+'"]'),m=0,A=b.length;A>m;m++)b[m].setAttribute("clip-path","url(#"+h+")");v[g].id=h}i.removeAttribute("xmlns:a");for(var w,S,x=i.querySelectorAll("script"),j=[],T=0,G=x.length;G>T;T++)S=x[T].getAttribute("type"),S&&"application/ecmascript"!==S&&"application/javascript"!==S||(w=x[T].innerText||x[T].textContent,j.push(w),i.removeChild(x[T]));if(j.length>0&&("always"===n||"once"===n&&!l[u])){for(var M=0,E=j.length;E>M;M++)new Function(j[M])(t);l[u]=!0}e.parentNode.replaceChild(i,e),a++,s(i)})};Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var r,n=this.length>>>0;for(r=0;n>r;++r)r in this&&t.call(e,this[r],r,this)});var h=function(t,e,r){e=e||{};var n=e.evalScripts||"always",i=e.pngFallback||!1,o=e.each;if(void 0!==t.length){var a=0;Array.prototype.forEach.call(t,function(e){d(e,n,i,function(e){o&&"function"==typeof o&&o(e),r&&t.length===++a&&r(a)})})}else null!==t?d(t,n,i,function(t){o&&"function"==typeof o&&o(t),r&&r(1)}):r&&r(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=h:"function"==typeof define&&define.amd?define(function(){return h}):"object"==typeof t&&(t.SVGInjector=h)}(window,document);
//# sourceMappingURL=svg-injector.map.js