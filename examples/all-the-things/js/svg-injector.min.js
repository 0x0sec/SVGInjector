/**
 * SVGInjector v1.1.0 - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(t,e){"use strict";function n(t){t=t.split(" ");for(var e={},n=t.length,r=[];n--;)e.hasOwnProperty(t[n])||(e[t[n]]=1,r.unshift(t[n]));return r.join(" ")}var r="file:"===t.location.protocol,i=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),o=Array.prototype.forEach||function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&t.call(e,this[n],n,this)},a={},s=0,u=[],l=[],c={},f=function(t){return t.cloneNode(!0)},p=function(t,e){l[t]=l[t]||[],l[t].push(e)},d=function(t){for(var e=0,n=l[t].length;n>e;e++)!function(e){setTimeout(function(){l[t][e](f(a[t]))},0)}(e)},h=function(e,n){if(void 0!==a[e])a[e]instanceof SVGSVGElement?n(f(a[e])):p(e,n);else{if(!t.XMLHttpRequest)return n("Browser does not support XMLHttpRequest"),!1;a[e]={},p(e,n);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(404===i.status||null===i.responseXML)return n("Unable to load SVG file: "+e),r&&n("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),n(),!1;if(!(200===i.status||r&&0===i.status))return n("There was a problem injecting the SVG: "+i.status+" "+i.statusText),!1;if(i.responseXML instanceof Document)a[e]=i.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var o=new DOMParser;t=o.parseFromString(i.responseText,"text/xml")}catch(s){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return n("Unable to parse SVG file: "+e),!1;a[e]=t.documentElement}d(e)}},i.open("GET",e),i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send()}},v=function(e,r,a,l){if(-1===u.indexOf(e)){u.push(e);var f=e.getAttribute("data-src")||e.getAttribute("src");if(!/svg$/i.test(f))return void l("Attempted to inject a file with a non-svg extension: "+f);if(!i){var p=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(p?(e.setAttribute("src",p),l(null)):a?(e.setAttribute("src",a+"/"+f.split("/").pop().replace(".svg",".png")),l(null)):l("This browser does not support SVG and no PNG fallback was defined."))}e.setAttribute("src",""),h(f,function(i){if("undefined"==typeof i||"string"==typeof i)return l(i),!1;var a=e.getAttribute("id");a&&i.setAttribute("id",a);var u=e.getAttribute("title");u&&i.setAttribute("title",u);var p=[].concat(i.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");i.setAttribute("class",n(p));var d=e.getAttribute("style");d&&i.setAttribute("style",d);var h=[].filter.call(e.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});o.call(h,function(t){t.name&&t.value&&i.setAttribute(t.name,t.value)});for(var v,g=i.querySelectorAll("defs clipPath[id]"),b=0,m=g.length;m>b;b++){v=g[b].id+"-"+s;for(var y=i.querySelectorAll('[clip-path*="'+g[b].id+'"]'),w=0,A=y.length;A>w;w++)y[w].setAttribute("clip-path","url(#"+v+")");g[b].id=v}i.removeAttribute("xmlns:a");for(var S,x,j=i.querySelectorAll("script"),T=[],G=0,M=j.length;M>G;G++)x=j[G].getAttribute("type"),x&&"application/ecmascript"!==x&&"application/javascript"!==x||(S=j[G].innerText||j[G].textContent,T.push(S),i.removeChild(j[G]));if(T.length>0&&("always"===r||"once"===r&&!c[f])){for(var V=0,E=T.length;E>V;V++)new Function(T[V])(t);c[f]=!0}e.parentNode.replaceChild(i,e),s++,l(i)})}},g=function(t,e,n){e=e||{};var r=e.evalScripts||"always",i=e.pngFallback||!1,a=e.each;if(void 0!==t.length){var s=0;o.call(t,function(e){v(e,r,i,function(e){a&&"function"==typeof a&&a(e),n&&t.length===++s&&n(s)})})}else t?v(t,r,i,function(t){a&&"function"==typeof a&&a(t),n&&n(1)}):n&&n(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=g:"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof t&&(t.SVGInjector=g)}(window,document);
//# sourceMappingURL=svg-injector.map.js